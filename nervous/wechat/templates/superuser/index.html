{% extends 'base.html' %}

{% block title %}超级管理员后台 - 清华大学微信公众号备案平台{% endblock title %}

{% block subtitle %}
    <a class="navbar-brand">&gt;</a>
    <a class="navbar-brand" href="{% url 'superuser' %}">超级管理员后台</a>
{% endblock subtitle %}

{% block left-column %}
    <a class="fake-link" data-toggle="collapse" data-target="#application-menu">
        <strong><i class="fa fa-wrench fa-fw"></i>　管理员账户</strong>
    </a>
    <ul class="nav nav-stacked collapse in" id="application-menu">
        <hr>
        <ul class="nav nav-stacked collapse in nav-pills" id="userMenu">
            <li id="admins-item" class="nav-header left-column-item"
                data-url="{% url 'superuser/admins' %}">
                <a class="fake-link"><i class="fa fa-user fa-fw"></i>　管理员账户列表</a>
            </li>
            <li id="modify-announcement-item" class="nav-header left-column-item">
                <a class="fake-link"><i class="fa fa-bullhorn fa-fw"></i>　修改管理员公告</a>
            </li>
        </ul>
    </ul>
    <hr>
    <a class="fake-link" data-toggle="collapse" data-target="#analyse-menu">
        <strong><i class="fa fa-database fa-fw"></i>　数据库管理</strong>
    </a>
    <ul class="nav nav-stacked collapse in" id="analyse-menu">
        <hr>
        <ul class="nav nav-stacked collapse in nav-pills" id="userMenu">
            <li id="database-info-item" class="nav-header left-column-item">
                <a class="fake-link"><i class="fa fa-th-large fa-fw"></i>　数据库信息概览</a>
            </li>
            <li if="update-data-item" class="nav-header left-column-item">
                <a class="fake-link"><i class="fa fa-cloud-download fa-fw"></i>　数据更新</a>
            </li>
        </ul>
    </ul>
    <hr>
{% endblock left-column %}

{% block main-page %}
    <script>
        $(function () {
            loadContentOfItem("#admins-item");
        });
    </script>
{% endblock main-page %}

{% block modals %}
    <div class="modal fade" id="add-admin-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <form action="{% url 'api/add_admin' %}" method="post">
                    {% csrf_token %}
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" id="myModalLabel">添加管理员</h4>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label for="username-input" class="control-label">用户名：</label>
                            <input type="text" class="form-control" id="username-input" name="username">
                        </div>
                        <div class="form-group">
                            <label for="password-input" class="control-label">密码：</label>
                            <input type="password" class="form-control" id="password-input" name="password">
                        </div>
                        <div class="form-group">
                            <label for="description-text" class="control-label">账号说明：</label>
                            <textarea class="form-control" id="description-text" name="description"></textarea>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                        <button type="submit" class="btn btn-primary">添加</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
{% endblock modals %}
